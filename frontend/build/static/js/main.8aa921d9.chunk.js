(this["webpackJsonpmonitoring-app"]=this["webpackJsonpmonitoring-app"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),s=(n(87),n(88),n(149)),i=n(153),l=n(148),d=n(152),u=n(150),j=n(114),b=n(147),h=n(151),m=n(2);function p(){return Object(m.jsxs)(j.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","My Website"," ",(new Date).getFullYear(),"."]})}var g=Object(b.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),O=function(e){var t=g(),n=e.history;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(l.a,{}),Object(m.jsx)(s.a,{position:"relative",children:Object(m.jsx)(u.a,{children:Object(m.jsx)(j.a,{variant:"h6",color:"inherit",noWrap:!0})})}),Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:t.heroContent,children:Object(m.jsxs)(h.a,{maxWidth:"sm",children:[Object(m.jsx)(j.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Availability monitoring App"}),Object(m.jsx)(j.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Availability monitoring Application which monitors your configured URL and logs the details."}),Object(m.jsx)("div",{className:t.heroButtons,children:Object(m.jsx)(d.a,{container:!0,spacing:2,justify:"center",children:Object(m.jsx)(d.a,{item:!0,children:Object(m.jsx)(i.a,{variant:"outlined",color:"primary",onClick:function(){return n.push("/login")},children:"Login"})})})})]})})}),Object(m.jsx)("footer",{className:t.footer,children:Object(m.jsx)(p,{})})]})};var x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))},f=n(23),v=n(74),y=n(12),C=n(13),w=n(20),N=n.n(w),T=n(48),I=n(36);function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=Object(a.useState)(e),o=Object(I.a)(r,2),c=o[0],s=o[1],i=Object(a.useState)({}),l=Object(I.a)(i,2),d=l[0],u=l[1],j=function(e){var a=e.target,r=a.name,o=a.value;s(Object(C.a)(Object(C.a)({},c),{},Object(f.a)({},r,o))),t&&n(Object(f.a)({},r,o))},b=function(){s(e),u({})};return{values:c,setValues:s,errors:d,setErrors:u,handleInputChange:j,resetForm:b}}var S=Object(b.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}}}));function B(e){var t=S(),n=(e.children,Object(T.a)(e,["children"]));return Object(m.jsx)("form",Object(C.a)(Object(C.a)({className:t.root,autoComplete:"off"},n),{},{children:e.children}))}var A=n(159);var U=n(161),F=n(154),L=n(160);var E=Object(b.a)((function(e){return{root:{margin:e.spacing(.5)},label:{textTransform:"none"}}}));var R={Input:function(e){var t=e.name,n=e.label,a=e.value,r=e.error,o=void 0===r?null:r,c=e.onChange;return Object(m.jsx)(A.a,Object(C.a)({variant:"outlined",label:n,name:t,value:a,size:"small",onChange:c},o&&{error:!0,helperText:o}))},Checkbox:function(e){var t=e.name,n=e.label,a=e.value,r=e.onChange;return Object(m.jsx)(U.a,{children:Object(m.jsx)(F.a,{control:Object(m.jsx)(L.a,{name:t,color:"primary",checked:a,onChange:function(e){return r(function(e,t){return{target:{name:e,value:t}}}(t,e.target.checked))}}),label:n})})},Button:function(e){var t=e.text,n=e.size,a=e.color,r=e.variant,o=e.onClick,c=Object(T.a)(e,["text","size","color","variant","onClick"]),s=E();return Object(m.jsx)(i.a,Object(C.a)(Object(C.a)({variant:r||"contained",size:n||"large",color:a||"primary",onClick:o},c),{},{classes:{root:s.root,label:s.label},children:t}))},Password:function(e){var t=e.name,n=e.label,a=e.value,r=e.error,o=void 0===r?null:r,c=e.onChange;return Object(m.jsx)(A.a,Object(C.a)({variant:"outlined",label:n,name:t,value:a,size:"small",type:"password",onChange:c},o&&{error:!0,helperText:o}))}},D=Object(b.a)((function(e){return{root:{background:"#0d131d",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",textAlign:"center"},mBottom:{marginBottom:".5rem"},button:{marginTop:".85rem"},loginCard:{width:"275px",borderRadius:5,background:"#fff",padding:".85rem"}}})),P={userName:"",password:""},z=function(e){var t=D(),n=e.history,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=Object(C.a)({},c);if("password"in e&&(t.password=e.password.length>8?"":"Username must be at least 8 chars long."),"userName"in e&&(t.userName=e.userName.length>5?"":"password must be at least 5 chars long."),s(Object(C.a)({},t)),e==o)return Object.values(t).every((function(e){return""==e}))},r=k(P,!0,a),o=r.values,c=(r.setValues,r.errors),s=r.setErrors,l=r.handleInputChange;r.resetForm;return Object(m.jsx)("div",{className:t.root,children:Object(m.jsxs)("div",{className:t.loginCard,children:[Object(m.jsx)(j.a,{variant:"h5",component:"h1",children:"Login"}),Object(m.jsx)(j.a,{className:t.mBottom,variant:"body1",children:"Sign In to your account"}),Object(m.jsx)(B,{onSubmit:function(e){if(console.log(o),e.preventDefault(),a()){console.log(o);var t=o.userName,r=o.password;N.a.post("/api/auth/login",{username:t,password:r},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),alert("Login success"),localStorage.setItem("userInfo",JSON.stringify(e.data)),n.push("/dashboard")})).catch((function(e){console.log(e),alert("Invalid username or password"),n.push("/login")}))}},children:Object(m.jsx)(d.a,{container:!0,children:Object(m.jsxs)(d.a,{item:!0,xs:12,sm:12,md:12,children:[Object(m.jsx)(R.Input,{name:"userName",label:"Username",value:o.userName,onChange:l,error:c.userName}),Object(m.jsx)(R.Password,{label:"Password",name:"password",value:o.password,onChange:l,error:c.password}),Object(m.jsx)("div",{className:t.mBottom,children:Object(m.jsx)(i.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.button,type:"submit",children:"Login"})})]})})}),Object(m.jsx)(j.a,{variant:"caption",children:"\xa9 My App"})]})})},G=Object(b.a)((function(e){return{root:{background:"#0d131d",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",textAlign:"center"},mBottom:{marginBottom:".5rem"},button:{marginTop:".85rem"},loginCard:{width:"275px",borderRadius:5,background:"#fff",padding:".85rem"}}})),W=[{id:"S",title:"Sale"},{id:"A",title:"Admin"},{id:"SA",title:"Super Admin"},{id:"AC",title:"Accounts"}],J={userName:"",password:"",email:"",userType:""},M=function(e){var t=G(),n=e.history,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=Object(C.a)({},c);if("email"in e&&(t.email=/$^|.+@.+..+/.test(e.email)?"":"Email is not valid."),"password"in e&&(t.password=e.password.length>=8?"":"Password must have at least 8 characters."),s(Object(C.a)({},t)),e==o)return Object.values(t).every((function(e){return""==e}))},r=k(J,!0,a),o=r.values,c=(r.setValues,r.errors),s=r.setErrors,l=r.handleInputChange;r.resetForm;return Object(m.jsx)("div",{className:t.root,children:Object(m.jsxs)("div",{className:t.loginCard,children:[Object(m.jsx)(j.a,{variant:"h5",component:"h1",children:"Register"}),Object(m.jsx)(j.a,{className:t.mBottom,variant:"body1",children:"Create your account"}),Object(m.jsxs)(B,{onSubmit:function(e){if(console.log(o),e.preventDefault(),a()){console.log(o);var t=o.userName,r=o.password,c=o.email,s=o.userType;N.a.post("/api/auth/register",{username:t,password:r,email:c,userType:s},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),alert("User registerd"),localStorage.setItem("userInfo",JSON.stringify(e.data)),n.push("/login")})).catch((function(e){console.log(e),alert("User already Exists"),n.push("/login")}))}},children:[Object(m.jsx)(d.a,{container:!0,children:Object(m.jsxs)(d.a,{item:!0,xs:12,sm:12,md:12,children:[Object(m.jsx)(R.Input,{name:"userName",label:"Username",value:o.userName,onChange:l,error:c.userName,fullWidth:!0}),Object(m.jsx)(R.Input,{name:"email",label:"Email",value:o.email,onChange:l,error:c.email}),Object(m.jsx)(R.Password,{name:"password",label:"Password",value:o.password,onChange:l,error:c.password}),Object(m.jsx)(R.Select,{label:"User Type",name:"userType",value:o.userType,onChange:l,options:W,error:c.userType})]})}),Object(m.jsxs)("div",{className:t.mBottom,children:[Object(m.jsx)(i.a,{variant:"contained",color:"primary",fullWidth:!0,className:t.button,type:"submit",children:"Register"}),Object(m.jsx)(i.a,{variant:"outlined",color:"primary",fullWidth:!0,className:t.button,onClick:function(){return n.push("/login")},children:"Sign in"})]})]}),Object(m.jsx)(j.a,{variant:"caption",children:"\xa9 My App"})]})})},V=n(155),q=n(156),_=n(157),Y=n(158),$=Object(b.a)((function(e){return{root:{flexGrow:1},addButton:{marginLeft:e.spacing(2)},title:{flexGrow:1},myContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0,0)}}})),H=function(e){var t=$(),n=e.history,o=Object(a.useState)([]),c=Object(I.a)(o,2),b=c[0],h=c[1],p=Object(a.useState)([]),g=Object(I.a)(p,2),O=g[0],x=g[1];return Object(a.useEffect)((function(){null==localStorage.getItem("userInfo")&&n.push("/login")}),[]),Object(a.useEffect)((function(){try{N.a.get("/api/url/geturl",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),h(e.data)}))}catch(e){console.log(e)}N.a.get("/api/url/getmonitorUrl",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),x(e.data)}))}),[]),Object(a.useEffect)((function(){var e=setInterval((function(){N.a.get("/api/url/monitor"),window.location.reload()}),3e5);return function(){return clearInterval(e)}}),[]),Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(l.a,{}),Object(m.jsx)("div",{className:t.root,children:Object(m.jsx)(s.a,{position:"static",children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(j.a,{variant:"h6",className:t.title,children:"Dashboard"}),Object(m.jsx)(i.a,{color:"inherit",onClick:function(){localStorage.removeItem("userInfo"),document.location.href="/login"},children:"Logout"})]})})}),Object(m.jsx)("main",{children:Object(m.jsxs)("div",{className:t.myContent,children:[Object(m.jsx)(i.a,{className:t.addButton,variant:"outlined",color:"primary",onClick:function(){return n.push("/addurl")},children:"Add URL"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(d.a,{item:!0,xs:12,sm:12,md:8,children:Object(m.jsxs)(V.a,{children:[Object(m.jsxs)(q.a,{children:[Object(m.jsx)(_.a,{}),Object(m.jsx)(_.a,{children:Object(m.jsx)("b",{children:"Url"})}),Object(m.jsx)(_.a,{children:Object(m.jsx)("b",{children:"Response limit(ms)"})})]}),Object(m.jsx)(Y.a,{children:b.map((function(e){return Object(m.jsxs)(q.a,{children:[Object(m.jsx)(_.a,{children:Object(m.jsx)(i.a,{variant:"contained",color:"secondary",onClick:function(t){return function(e){var t=localStorage.getItem("userInfo"),n=JSON.parse(t),a={headers:{Authorization:"Bearer ".concat(n.token)}};N.a.get("/api/url/".concat(e),a),window.location.reload()}(e._id)},children:"Delete"})}),Object(m.jsx)(_.a,{children:e.url}),Object(m.jsx)(_.a,{children:e.responseTime})]})}))})]})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Show urls more time than limit"}),Object(m.jsx)(d.a,{item:!0,xs:12,sm:12,md:8,children:Object(m.jsxs)(V.a,{children:[Object(m.jsx)(q.a,{children:Object(m.jsx)(_.a,{children:Object(m.jsx)("b",{children:"Urls"})})}),Object(m.jsx)(Y.a,{children:O.map((function(e){return Object(m.jsx)(q.a,{children:Object(m.jsx)(_.a,{children:e.url})})}))})]})})]})})]})},K=Object(b.a)((function(e){return{root:{flexGrow:1},addButton:{marginLeft:e.spacing(2)},title:{flexGrow:1},myContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,6,0)}}})),Q={url:"",responseTime:""},X=function(e){var t=K(),n=e.history;Object(a.useEffect)((function(){null==localStorage.getItem("userInfo")&&n.push("/login")}),[]);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=Object(C.a)({},h);if("responseTime"in e&&(t.responseTime=e.responseTime?"":"Response Time is required."),"url"in e&&(t.url=e.url?"":"Url is required."),p(Object(C.a)({},t)),e==b)return Object.values(t).every((function(e){return""==e}))},c=k(Q,!0,o),b=c.values,h=(c.setValues,c.errors),p=c.setErrors,g=c.handleInputChange;c.resetForm;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(l.a,{}),Object(m.jsx)("div",{className:t.root,children:Object(m.jsx)(s.a,{position:"static",children:Object(m.jsx)(u.a,{children:Object(m.jsx)(j.a,{variant:"h6",className:t.title,children:"Add URL"})})})}),Object(m.jsxs)("div",{className:t.myContent,children:[Object(m.jsx)(i.a,{color:"inherit",onClick:function(){return n.push("/dashboard")},children:"Go Back"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)(B,{onSubmit:function(e){if(e.preventDefault(),o()){console.log(b);var t=b.url,a=b.responseTime,r=localStorage.getItem("userInfo"),c=JSON.parse(r),s=c._id;console.log(s);var i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}};N.a.post("/api/url/addurl",{url:t,responseTime:a,userId:s},i).then((function(e){console.log(e.data),alert("Url added"),n.push("/dashboard")})).catch((function(e){console.log(e),alert("Url not added"),n.push("/addurl")}))}},children:[Object(m.jsxs)(d.a,{container:!0,children:[Object(m.jsx)(d.a,{item:!0,xs:12,sm:12,md:6,children:Object(m.jsx)(R.Input,{name:"url",label:"URL",value:b.url,onChange:g,error:h.url})}),Object(m.jsx)(d.a,{item:!0,xs:12,sm:12,md:6,children:Object(m.jsx)(d.a,{item:!0,xs:5,children:Object(m.jsx)(R.Input,{name:"responseTime",label:"Response Time(ms)",value:b.responseTime,onChange:g,error:h.responseTime})})})]}),Object(m.jsx)("div",{children:Object(m.jsx)(R.Button,{type:"submit",text:"Add"})})]})]})]})},Z=n(73),ee=Object(Z.a)(),te=function(){var e,t;return Object(m.jsx)(v.a,{history:ee,children:Object(m.jsxs)(y.c,{children:[Object(m.jsx)(y.a,{exact:!0,path:"/",component:O}),Object(m.jsx)(y.a,{exact:!0,path:"/login",component:z}),Object(m.jsx)(y.a,{exact:!0,path:"/register",component:M}),Object(m.jsx)(y.a,(e={exact:!0,path:"/dashboard"},Object(f.a)(e,"exact",!0),Object(f.a)(e,"component",H),e)),Object(m.jsx)(y.a,(t={exact:!0,path:"/addurl"},Object(f.a)(t,"exact",!0),Object(f.a)(t,"component",X),t))]})})};c.a.render(Object(m.jsx)(te,{}),document.getElementById("root")),x()},87:function(e,t,n){},88:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.8aa921d9.chunk.js.map